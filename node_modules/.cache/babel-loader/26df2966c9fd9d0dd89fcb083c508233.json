{"ast":null,"code":"var _jsxFileName = \"D:\\\\ionic uas\\\\Pencari_Mutual_APP\\\\src\\\\pages\\\\UpdateProfile\\\\UpdateProfile.tsx\",\n    _s = $RefreshSig$();\n\nimport { IonButton, IonContent, IonInput, IonItem, IonPage, IonTitle } from \"@ionic/react\";\nimport \"./UpdateProfile.css\";\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { setUser } from \"../../store/action\";\nimport swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\n\nconst UpdateProfile = () => {\n  _s();\n\n  const user = useSelector(state => state.user);\n  const [name, setName] = useState(user.name);\n  const [birthdate, setBirthdate] = useState(user.birthdate);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  async function update() {\n    if (user) {\n      const userRef = firestore.collection(\"users\").doc(user.email);\n      const doc = await userRef.get();\n      const data = doc.data();\n\n      if (data) {\n        data.name = name;\n        data.birthdate = birthdate;\n        userRef.set(data);\n        dispatch(setUser(data));\n        swal.fire(`Congratulation!`, `Update succeed`, `success`);\n        history.push(\"/\");\n      }\n    }\n  }\n\n  function back() {\n    history.push(\"/\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(IonPage, {\n    children: /*#__PURE__*/_jsxDEV(IonContent, {\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"update-section\",\n        children: [/*#__PURE__*/_jsxDEV(IonItem, {\n          lines: \"none\",\n          children: /*#__PURE__*/_jsxDEV(IonTitle, {\n            class: \"title-update\",\n            children: \"Update Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IonItem, {\n          lines: \"none\",\n          children: /*#__PURE__*/_jsxDEV(IonInput, {\n            value: user.name,\n            onIonInput: e => setName(e.target.value),\n            id: \"update-name\",\n            type: \"email\",\n            placeholder: \"Update your name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IonItem, {\n          lines: \"none\",\n          children: /*#__PURE__*/_jsxDEV(IonInput, {\n            value: user.birthdate,\n            onIonInput: e => setBirthdate(e.target.value),\n            id: \"update-birthdate\",\n            type: \"date\",\n            placeholder: \"Update your birthdate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IonItem, {\n          lines: \"none\",\n          children: /*#__PURE__*/_jsxDEV(IonButton, {\n            onClick: update,\n            class: \"button\",\n            children: \"Save The Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IonItem, {\n          lines: \"none\",\n          children: /*#__PURE__*/_jsxDEV(IonButton, {\n            color: \"danger\",\n            onClick: back,\n            class: \"button\",\n            children: \"Back To Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UpdateProfile, \"S0PymXC2Du7BeU6RvAQbqOydQyM=\", false, function () {\n  return [useSelector, useDispatch, useHistory];\n});\n\n_c = UpdateProfile;\nexport default UpdateProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateProfile\");","map":{"version":3,"sources":["D:/ionic uas/Pencari_Mutual_APP/src/pages/UpdateProfile/UpdateProfile.tsx"],"names":["IonButton","IonContent","IonInput","IonItem","IonPage","IonTitle","firebase","useState","useDispatch","useSelector","useHistory","setUser","swal","auth","firestore","UpdateProfile","user","state","name","setName","birthdate","setBirthdate","dispatch","history","update","userRef","collection","doc","email","get","data","set","fire","push","back","e","target","value"],"mappings":"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","sourcesContent":["import {\r\n  IonButton,\r\n  IonContent,\r\n  IonHeader,\r\n  IonInput,\r\n  IonItem,\r\n  IonLabel,\r\n  IonPage,\r\n  IonRouterLink,\r\n  IonTitle,\r\n  IonToolbar,\r\n} from \"@ionic/react\";\r\nimport \"./UpdateProfile.css\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\n\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\r\nimport { useState, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\nimport { setUser } from \"../../store/action\";\r\nimport swal from \"sweetalert2\";\r\nimport { RootState } from \"../../store\";\r\n\r\nconst auth = firebase.auth();\r\nconst firestore = firebase.firestore();\r\n\r\nconst UpdateProfile: React.FC = () => {\r\n  const user = useSelector((state: RootState) => state.user);\r\n  const [name, setName] = useState(user.name);\r\n  const [birthdate, setBirthdate] = useState(user.birthdate);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  async function update() {\r\n    if (user) {\r\n      const userRef = firestore.collection(\"users\").doc(user.email);\r\n      const doc = await userRef.get();\r\n      const data = doc.data();\r\n      if (data) {\r\n        data.name = name;\r\n        data.birthdate = birthdate;\r\n        userRef.set(data);\r\n        dispatch(setUser(data));\r\n        swal.fire(`Congratulation!`, `Update succeed`, `success`);\r\n        history.push(\"/\");\r\n      }\r\n    }\r\n  }\r\n\r\n  function back() {\r\n    history.push(\"/\");\r\n  }\r\n\r\n  return (\r\n    <IonPage>\r\n      <IonContent>\r\n        <section className=\"update-section\">\r\n          <IonItem lines=\"none\">\r\n            <IonTitle class=\"title-update\">Update Profile</IonTitle>\r\n          </IonItem>\r\n          <IonItem lines=\"none\">\r\n            <IonInput\r\n              value={user.name}\r\n              onIonInput={(e: any) => setName(e.target.value)}\r\n              id=\"update-name\"\r\n              type=\"email\"\r\n              placeholder=\"Update your name\"\r\n            ></IonInput>\r\n          </IonItem>\r\n          <IonItem lines=\"none\">\r\n            <IonInput\r\n              value={user.birthdate}\r\n              onIonInput={(e: any) => setBirthdate(e.target.value)}\r\n              id=\"update-birthdate\"\r\n              type=\"date\"\r\n              placeholder=\"Update your birthdate\"\r\n            ></IonInput>\r\n          </IonItem>\r\n          <IonItem lines=\"none\">\r\n            <IonButton onClick={update} class=\"button\">\r\n              Save The Update\r\n            </IonButton>\r\n          </IonItem>\r\n          <IonItem lines=\"none\">\r\n            <IonButton color=\"danger\" onClick={back} class=\"button\">\r\n              Back To Profile\r\n            </IonButton>\r\n          </IonItem>\r\n        </section>\r\n      </IonContent>\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nexport default UpdateProfile;\r\n"]},"metadata":{},"sourceType":"module"}